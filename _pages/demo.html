---
layout: page
permalink: /demo/
title: demo
// description: Edit the `_data/repositories.yml` and change the `github_users` and `github_repos` lists to include your own GitHub profile and repositories.
// nav: true
nav_order: 3
---
<script type="module">
  // ?client_id=${process.env.REACT_APP_GITHUB_CLIENT_ID}&client_secret${process.env.REACT_APP_GITHUB_CLIENT_SECRET}
  async function getstuff(){
  let repos = await fetch(
    `https://api.github.com/users/leewannacott/repos`,
    {
      username: "leewannacott",
      headers: {
        "X-GitHub-Api-Version": "2022-11-28",
      },
    }
  );

  // ?client_id=${process.env.REACT_APP_GITHUB_CLIENT_ID}&client_secret${process.env.REACT_APP_GITHUB_CLIENT_SECRET}
  let user = await fetch(
    `https://api.github.com/users/leewannacott`,
    {
      username: "leewannacott",
      headers: {
        "X-GitHub-Api-Version": "2022-11-28",
      },
    }
  );

  // ?client_id=${process.env.REACT_APP_GITHUB_CLIENT_ID}&client_secret${process.env.REACT_APP_GITHUB_CLIENT_SECRET}
  let stars = await fetch(
    `https://api.github.com/users/leewannacott/starred`,
    {
      username: "leewannacott",
      headers: {
        "X-GitHub-Api-Version": "2022-11-28",
      },
    }
  ).then((stars)=>console.log("t",stars));

  console.log("yo", repos.body.getReader);
  console.log("yo", user);
  console.log("yo", stars);

  }
  getstuff()
  console.log("yo");
  // console.log(test)
</script>

<table className="table table-sort table-bordered table-responsive table-hover">
  <thead className="cw-light">
    <tr>
      <th>Repository Name</th>
      <th>Language</th>
      <th className="order-by-desc">Created</th>
      <th>Description</th>
      <th className="order-by-desc">Forks</th>
      <th className="order-by-desc">Open issues</th>
      <th className="order-by-desc">Stars</th>
      <th className="order-by-desc file-size-sort">Size</th>
    </tr>
  </thead>
  <tbody className="table-hover">
    {$repos.map((repo) => (
    <tr>
      <td>
        <a href="{repo.html_url}" target="_blank"> {{user.name}} </a>
      </td>
      <td>{repo.language}</td>
      <td>
        {" "} {repo.created_at.split("-")[0] + "-" +
        repo.created_at.split("-")[1]}
      </td>
      <td>{repo.description}</td>
      <td>{repo.forks}</td>
      <td>{repo.open_issues}</td>
      <td>{repo.stargazers_count}</td>
      <td>{repo.size*1000+"B"}</td>
    </tr>
    ))}
  </tbody>
</table>
